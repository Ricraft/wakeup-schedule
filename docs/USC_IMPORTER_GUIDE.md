å¥½çš„ï¼ä»¥ä¸‹æ˜¯å®Œæ•´çš„æ·»åŠ æ–°æ•™åŠ¡ç³»ç»Ÿæ“ä½œæ–‡æ¡£ï¼š

---

# å¦‚ä½•ä¸ºæ–°å­¦æ ¡æ·»åŠ å¼ºæ™ºæ•™åŠ¡ç³»ç»Ÿæ”¯æŒ

## ğŸ“‹ ç›®å½•

1. [å‰ç½®å‡†å¤‡](#å‰ç½®å‡†å¤‡)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [è¯¦ç»†æ­¥éª¤](#è¯¦ç»†æ­¥éª¤)
4. [é…ç½®å‚æ•°è¯¦è§£](#é…ç½®å‚æ•°è¯¦è§£)
5. [å¸¸è§åœºæ™¯é…ç½®](#å¸¸è§åœºæ™¯é…ç½®)
6. [æµ‹è¯•éªŒè¯](#æµ‹è¯•éªŒè¯)
7. [é›†æˆåˆ°ä¸»ç¨‹åº](#é›†æˆåˆ°ä¸»ç¨‹åº)
8. [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

---

## å‰ç½®å‡†å¤‡

### 1. è·å–è¯¾è¡¨ HTML æ–‡ä»¶

ä»ä½ å­¦æ ¡çš„æ•™åŠ¡ç³»ç»Ÿå¯¼å‡ºè¯¾è¡¨ HTML æ–‡ä»¶ï¼š

1. ç™»å½•æ•™åŠ¡ç³»ç»Ÿ
2. è¿›å…¥"æˆ‘çš„è¯¾è¡¨"æˆ–"ä¸ªäººè¯¾è¡¨"é¡µé¢
3. å³é”® â†’ "å¦å­˜ä¸º" â†’ ä¿å­˜ä¸º `.html` æ–‡ä»¶
4. å°†æ–‡ä»¶ä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå‘½åä¸º `your_school_sample.html`

### 2. åˆ†æ HTML ç»“æ„

ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰æˆ–æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ HTML æ–‡ä»¶ï¼ŒæŸ¥çœ‹å…³é”®ä¿¡æ¯ï¼š

```html
<!-- æŸ¥æ‰¾è¯¾è¡¨çš„ table æ ‡ç­¾ -->
<table id="kbtable">  <!-- è®°å½• id å±æ€§ -->
  <tr>
    <td>èŠ‚æ¬¡</td>  <!-- ç¬¬ä¸€åˆ—æ˜¯å¦ä¸ºè¡¨å¤´ï¼Ÿ -->
    <td>å‘¨ä¸€</td>  <!-- è¿˜æ˜¯å‘¨æ—¥ï¼Ÿ -->
    ...
  </tr>
  <tr>
    <td>1-2èŠ‚</td>
    <td>
      <div class="kbcontent">  <!-- è®°å½• class å±æ€§ -->
        <!-- è¯¾ç¨‹ä¿¡æ¯æ ¼å¼ -->
      </div>
    </td>
  </tr>
</table>
```

### 3. ç¡®å®šå…³é”®ç‰¹å¾

è®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š

- âœ… è¡¨æ ¼ IDï¼ˆé€šå¸¸æ˜¯ `kbtable`ï¼‰
- âœ… è¯¾ç¨‹å®¹å™¨ classï¼ˆé€šå¸¸æ˜¯ `kbcontent`ï¼‰
- âœ… ç¬¬ä¸€åˆ—æ˜¯"èŠ‚æ¬¡"è¿˜æ˜¯"å‘¨ä¸€"ï¼Ÿ
- âœ… å¦‚æœç¬¬ä¸€åˆ—æ˜¯"å‘¨ä¸€"ï¼Œé‚£æ˜¯å‘¨ä¸€è¿˜æ˜¯å‘¨æ—¥ï¼Ÿ
- âœ… è¯¾ç¨‹å—ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼ˆå¦‚ `----` æˆ– `====`ï¼‰
- âœ… å­—æ®µæ ‡è¯†æ–¹å¼ï¼ˆ`<font title="è€å¸ˆ">` è¿˜æ˜¯ `è€å¸ˆ|å¼ ä¸‰`ï¼‰

---

## å¿«é€Ÿå¼€å§‹

### æœ€ç®€å•çš„æƒ…å†µï¼ˆä¸å—åå¤§å­¦ç›¸åŒï¼‰

å¦‚æœä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿä¸å—åå¤§å­¦å®Œå…¨ç›¸åŒï¼Œåªéœ€ä¿®æ”¹å­¦æ ¡åç§°ï¼š

```python
# æ–‡ä»¶: src/importers/your_school_importer.py

from .qiangzhi_importer import QiangZhiImporter

class YourSchoolImporter(QiangZhiImporter):
    def __init__(self):
        super().__init__(
            school_name="ä½ çš„å­¦æ ¡åç§°",
            sunday_first=False,
            first_col_is_header=True,
            split_pattern=r'-{10,}',
            exclude_courses=["æ•™å­¦èµ„æ–™", ""]
        )
    
    def get_importer_name(self) -> str:
        return "ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿ"
```

---

## è¯¦ç»†æ­¥éª¤

### æ­¥éª¤ 1: åˆ›å»ºå¯¼å…¥å™¨æ–‡ä»¶

åœ¨ `src/importers/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå‘½åè§„åˆ™ï¼š`å­¦æ ¡ç®€ç§°_importer.py`

ä¾‹å¦‚ï¼š
- æ¹–å—å¤§å­¦ â†’ `hnu_importer.py`
- ä¸­å—å¤§å­¦ â†’ `csu_importer.py`
- æ¹˜æ½­å¤§å­¦ â†’ `xtu_importer.py`

### æ­¥éª¤ 2: ç¼–å†™å¯¼å…¥å™¨ç±»

```python
"""
ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥å™¨

é’ˆå¯¹ä½ çš„å­¦æ ¡å¼ºæ™ºæ•™åŠ¡ç³»ç»Ÿçš„ä¸“ç”¨è§£æå™¨
"""

try:
    from .qiangzhi_importer import QiangZhiImporter
except ImportError:
    from importers.qiangzhi_importer import QiangZhiImporter


class YourSchoolImporter(QiangZhiImporter):
    """
    ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥å™¨
    
    è§£æä½ çš„å­¦æ ¡å¼ºæ™ºæ•™åŠ¡ç³»ç»Ÿå¯¼å‡ºçš„ HTML è¯¾è¡¨æ–‡ä»¶
    """
    
    def __init__(self):
        """åˆå§‹åŒ–å¯¼å…¥å™¨"""
        super().__init__(
            school_name="ä½ çš„å­¦æ ¡åç§°",
            
            # === æ ¸å¿ƒé…ç½®ï¼ˆå¿…é¡»æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼‰ ===
            sunday_first=False,              # æ˜¯å¦æ˜ŸæœŸæ—¥å¼€å¤´
            first_col_is_header=True,        # ç¬¬ä¸€åˆ—æ˜¯å¦ä¸ºè¡¨å¤´
            split_pattern=r'-{10,}',         # è¯¾ç¨‹å—åˆ†éš”ç¬¦
            
            # === æ ‡å‡†é…ç½®ï¼ˆé€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼‰ ===
            table_id='kbtable',
            cell_class='kbcontent',
            week_pattern=r'([\d\-,]+)\(å‘¨\)',
            section_pattern=r'\[(\d+)-(\d+)èŠ‚\]',
            teacher_title='è€å¸ˆ',
            location_title='æ•™å®¤',
            week_section_title='å‘¨æ¬¡(èŠ‚æ¬¡)',
            odd_week_keyword='å•å‘¨',
            even_week_keyword='åŒå‘¨',
            exclude_courses=["æ•™å­¦èµ„æ–™", ""]
        )
    
    def get_importer_name(self) -> str:
        """è·å–å¯¼å…¥å™¨åç§°"""
        return "ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿ"
```

### æ­¥éª¤ 3: åˆ›å»ºæµ‹è¯•æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `test_your_school_importer.py`ï¼š

```python
"""
ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥å™¨æµ‹è¯•
"""

import sys
import os
sys.path.insert(0, os.path.join(os.path.dirname(__file__), 'src'))

from importers.your_school_importer import YourSchoolImporter


def test_real_html():
    """æµ‹è¯•çœŸå® HTML æ–‡ä»¶"""
    
    html_file = "your_school_sample.html"
    
    if not os.path.exists(html_file):
        print(f"âŒ æ–‡ä»¶ä¸å­˜åœ¨: {html_file}")
        print("è¯·å°†ä½ çš„è¯¾è¡¨ HTML æ–‡ä»¶ä¿å­˜ä¸ºæ­¤æ–‡ä»¶å")
        return
    
    with open(html_file, 'r', encoding='utf-8') as f:
        html_content = f.read()
    
    print("=" * 60)
    print("æµ‹è¯•ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥å™¨")
    print("=" * 60)
    
    importer = YourSchoolImporter()
    
    # éªŒè¯
    valid, msg = importer.validate(html_content)
    print(f"\néªŒè¯ç»“æœ: {valid}")
    if msg:
        print(f"æ¶ˆæ¯: {msg}")
    
    if not valid:
        print("âŒ éªŒè¯å¤±è´¥")
        return
    
    # è§£æ
    try:
        course_bases, course_details = importer.parse(html_content)
        
        print(f"\nâœ… æˆåŠŸè§£æ {len(course_bases)} é—¨è¯¾ç¨‹")
        print(f"âœ… å…± {len(course_details)} ä¸ªä¸Šè¯¾æ—¶é—´")
        print("-" * 60)
        
        for course in course_bases:
            print(f"\nğŸ“š {course.name}")
            print(f"   ID: {course.id[:8]}...")
            print(f"   é¢œè‰²: {course.color}")
            
            details = [d for d in course_details if d.course_id == course.id]
            print(f"   ä¸Šè¯¾æ—¶é—´: {len(details)} ä¸ª")
            
            for detail in details:
                week_type = detail.week_type.to_chinese()
                print(f"   â€¢ å‘¨{detail.day_of_week} ç¬¬{detail.start_section}-{detail.end_section}èŠ‚")
                print(f"     {detail.start_week}-{detail.end_week}å‘¨ ({week_type})")
                print(f"     æ•™å¸ˆ: {detail.teacher}, åœ°ç‚¹: {detail.location}")
        
        print("\n" + "=" * 60)
        print("âœ… æµ‹è¯•å®Œæˆ!")
        
    except Exception as e:
        print(f"\nâŒ è§£æå¤±è´¥: {str(e)}")
        import traceback
        traceback.print_exc()


if __name__ == '__main__':
    test_real_html()
```

### æ­¥éª¤ 4: è¿è¡Œæµ‹è¯•

```bash
python test_your_school_importer.py
```

å¦‚æœè§£ææˆåŠŸï¼Œä½ ä¼šçœ‹åˆ°ï¼š
```
âœ… æˆåŠŸè§£æ X é—¨è¯¾ç¨‹
âœ… å…± X ä¸ªä¸Šè¯¾æ—¶é—´
ğŸ“š è¯¾ç¨‹åç§°
   â€¢ å‘¨X ç¬¬X-XèŠ‚
   ...
```

---

## é…ç½®å‚æ•°è¯¦è§£

### æ ¸å¿ƒå‚æ•°ï¼ˆå¿…é¡»é…ç½®ï¼‰

#### 1. `sunday_first` - æ˜ŸæœŸæ—¥æ˜¯å¦åœ¨ç¬¬ä¸€åˆ—

**å¦‚ä½•åˆ¤æ–­ï¼Ÿ**

æŸ¥çœ‹ HTML è¡¨æ ¼çš„è¡¨å¤´è¡Œï¼š

```html
<!-- æƒ…å†µ A: å‘¨ä¸€åœ¨ç¬¬ä¸€åˆ— -->
<tr>
  <td>èŠ‚æ¬¡</td>
  <td>å‘¨ä¸€</td>  <!-- ç¬¬ä¸€åˆ—ï¼ˆç´¢å¼•1ï¼‰æ˜¯å‘¨ä¸€ -->
  <td>å‘¨äºŒ</td>
  ...
</tr>
<!-- é…ç½®: sunday_first=False -->

<!-- æƒ…å†µ B: å‘¨æ—¥åœ¨ç¬¬ä¸€åˆ— -->
<tr>
  <td>èŠ‚æ¬¡</td>
  <td>å‘¨æ—¥</td>  <!-- ç¬¬ä¸€åˆ—ï¼ˆç´¢å¼•1ï¼‰æ˜¯å‘¨æ—¥ -->
  <td>å‘¨ä¸€</td>
  ...
</tr>
<!-- é…ç½®: sunday_first=True -->
```

#### 2. `first_col_is_header` - ç¬¬ä¸€åˆ—æ˜¯å¦ä¸ºè¡¨å¤´

**å¦‚ä½•åˆ¤æ–­ï¼Ÿ**

æŸ¥çœ‹è¡¨æ ¼ç¬¬ä¸€åˆ—çš„å†…å®¹ï¼š

```html
<!-- æƒ…å†µ A: ç¬¬ä¸€åˆ—æ˜¯èŠ‚æ¬¡ï¼ˆè¡¨å¤´ï¼‰ -->
<tr>
  <td>1-2èŠ‚</td>  <!-- è¿™æ˜¯èŠ‚æ¬¡æè¿°ï¼Œä¸æ˜¯è¯¾ç¨‹ -->
  <td>è¯¾ç¨‹å†…å®¹</td>
  ...
</tr>
<!-- é…ç½®: first_col_is_header=True -->

<!-- æƒ…å†µ B: ç¬¬ä¸€åˆ—å°±æ˜¯å‘¨ä¸€/å‘¨æ—¥çš„è¯¾ç¨‹ -->
<tr>
  <td>è¯¾ç¨‹å†…å®¹</td>  <!-- è¿™æ˜¯ç¬¬ä¸€å¤©çš„è¯¾ç¨‹ -->
  <td>è¯¾ç¨‹å†…å®¹</td>
  ...
</tr>
<!-- é…ç½®: first_col_is_header=False -->
```

#### 3. `split_pattern` - è¯¾ç¨‹å—åˆ†éš”ç¬¦

**å¦‚ä½•åˆ¤æ–­ï¼Ÿ**

æŸ¥çœ‹åŒä¸€å•å…ƒæ ¼å†…å¤šé—¨è¯¾ç¨‹çš„åˆ†éš”æ–¹å¼ï¼š

```html
<!-- æƒ…å†µ A: é•¿æ¨ªçº¿åˆ†éš”ï¼ˆ10ä¸ªä»¥ä¸Šï¼‰ -->
<div class="kbcontent">
  è¯¾ç¨‹Aä¿¡æ¯
  --------------------
  è¯¾ç¨‹Bä¿¡æ¯
</div>
<!-- é…ç½®: split_pattern=r'-{10,}' -->

<!-- æƒ…å†µ B: çŸ­æ¨ªçº¿åˆ†éš”ï¼ˆ5ä¸ªä»¥ä¸Šï¼‰ -->
<div class="kbcontent">
  è¯¾ç¨‹Aä¿¡æ¯
  -----
  è¯¾ç¨‹Bä¿¡æ¯
</div>
<!-- é…ç½®: split_pattern=r'-{5,}' -->

<!-- æƒ…å†µ C: ç­‰å·åˆ†éš” -->
<div class="kbcontent">
  è¯¾ç¨‹Aä¿¡æ¯
  ==========
  è¯¾ç¨‹Bä¿¡æ¯
</div>
<!-- é…ç½®: split_pattern=r'={5,}' -->
```

### æ ‡å‡†å‚æ•°ï¼ˆé€šå¸¸ä¸éœ€è¦ä¿®æ”¹ï¼‰

#### 4. `table_id` - è¯¾è¡¨ table çš„ id

```html
<table id="kbtable">  <!-- é»˜è®¤å€¼ -->
<!-- å¦‚æœä½ çš„ç³»ç»Ÿä½¿ç”¨ä¸åŒçš„ idï¼Œå¦‚: -->
<table id="coursetable">
<!-- åˆ™é…ç½®: table_id='coursetable' -->
```

#### 5. `cell_class` - è¯¾ç¨‹å®¹å™¨çš„ class

```html
<div class="kbcontent">  <!-- é»˜è®¤å€¼ -->
<!-- å¦‚æœä½ çš„ç³»ç»Ÿä½¿ç”¨ä¸åŒçš„ classï¼Œå¦‚: -->
<div class="course-cell">
<!-- åˆ™é…ç½®: cell_class='course-cell' -->
```

#### 6. `week_pattern` - å‘¨æ¬¡æå–æ­£åˆ™

```python
# é»˜è®¤æ ¼å¼: "1-8(å‘¨)" æˆ– "1-8,10-12(å‘¨)"
week_pattern=r'([\d\-,]+)\(å‘¨\)'

# å¦‚æœæ ¼å¼æ˜¯ "ç¬¬1-8å‘¨"
week_pattern=r'ç¬¬([\d\-,]+)å‘¨'

# å¦‚æœæ ¼å¼æ˜¯ "wk1-8"
week_pattern=r'wk([\d\-,]+)'
```

#### 7. `section_pattern` - èŠ‚æ¬¡æå–æ­£åˆ™

```python
# é»˜è®¤æ ¼å¼: "[01-02èŠ‚]"
section_pattern=r'\[(\d+)-(\d+)èŠ‚\]'

# å¦‚æœæ ¼å¼æ˜¯ "ç¬¬1-2èŠ‚"
section_pattern=r'ç¬¬(\d+)-(\d+)èŠ‚'

# å¦‚æœæ ¼å¼æ˜¯ "1-2"
section_pattern=r'(\d+)-(\d+)'
```

#### 8. å­—æ®µæ ‡é¢˜å‚æ•°

```python
# å¦‚æœä½ çš„ç³»ç»Ÿä½¿ç”¨ <font title="..."> æ ‡ç­¾
teacher_title='è€å¸ˆ'        # <font title="è€å¸ˆ">å¼ ä¸‰</font>
location_title='æ•™å®¤'       # <font title="æ•™å®¤">A101</font>
week_section_title='å‘¨æ¬¡(èŠ‚æ¬¡)'  # <font title="å‘¨æ¬¡(èŠ‚æ¬¡)">...</font>

# å¦‚æœä½ çš„ç³»ç»Ÿä½¿ç”¨ä¸åŒçš„æ ‡é¢˜
teacher_title='æ•™å¸ˆ'
location_title='ä¸Šè¯¾åœ°ç‚¹'
week_section_title='æ—¶é—´'
```

#### 9. å‘¨ç±»å‹å…³é”®å­—

```python
# é»˜è®¤å€¼
odd_week_keyword='å•å‘¨'
even_week_keyword='åŒå‘¨'

# å¦‚æœä½ çš„ç³»ç»Ÿä½¿ç”¨ä¸åŒçš„å…³é”®å­—
odd_week_keyword='å¥‡æ•°å‘¨'
even_week_keyword='å¶æ•°å‘¨'
```

#### 10. `exclude_courses` - æ’é™¤è¯¾ç¨‹åˆ—è¡¨

```python
# é»˜è®¤æ’é™¤
exclude_courses=["æ•™å­¦èµ„æ–™", ""]

# æ ¹æ®ä½ çš„ç³»ç»Ÿæ·»åŠ éœ€è¦æ’é™¤çš„å†…å®¹
exclude_courses=["æ•™å­¦èµ„æ–™", "é€‰è¯¾è¯´æ˜", "å¤‡æ³¨", ""]
```

---

## å¸¸è§åœºæ™¯é…ç½®

### åœºæ™¯ 1: æ ‡å‡†å¼ºæ™ºç³»ç»Ÿï¼ˆä¸å—åå¤§å­¦ç›¸åŒï¼‰

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=False,
    first_col_is_header=True,
    split_pattern=r'-{10,}'
)
```

### åœºæ™¯ 2: å‘¨æ—¥åœ¨ç¬¬ä¸€åˆ—

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=True,          # â† æ”¹ä¸º True
    first_col_is_header=True,
    split_pattern=r'-{10,}'
)
```

### åœºæ™¯ 3: ç¬¬ä¸€åˆ—ç›´æ¥æ˜¯è¯¾ç¨‹ï¼ˆæ— èŠ‚æ¬¡åˆ—ï¼‰

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=False,
    first_col_is_header=False,  # â† æ”¹ä¸º False
    split_pattern=r'-{10,}'
)
```

### åœºæ™¯ 4: ä½¿ç”¨çŸ­æ¨ªçº¿åˆ†éš”

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=False,
    first_col_is_header=True,
    split_pattern=r'-{5,}'      # â† æ”¹ä¸º 5 ä¸ªä»¥ä¸Š
)
```

### åœºæ™¯ 5: ä½¿ç”¨ç­‰å·åˆ†éš”

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=False,
    first_col_is_header=True,
    split_pattern=r'={5,}'      # â† æ”¹ä¸ºç­‰å·
)
```

### åœºæ™¯ 6: ä¸åŒçš„è¡¨æ ¼ ID

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=False,
    first_col_is_header=True,
    split_pattern=r'-{10,}',
    table_id='coursetable'      # â† ä¿®æ”¹ table id
)
```

### åœºæ™¯ 7: ä¸åŒçš„å­—æ®µæ ‡é¢˜

```python
super().__init__(
    school_name="ä½ çš„å­¦æ ¡",
    sunday_first=False,
    first_col_is_header=True,
    split_pattern=r'-{10,}',
    teacher_title='æ•™å¸ˆ',       # â† ä¿®æ”¹å­—æ®µæ ‡é¢˜
    location_title='ä¸Šè¯¾åœ°ç‚¹',
    week_section_title='æ—¶é—´'
)
```

---

## æµ‹è¯•éªŒè¯

### 1. åŸºæœ¬éªŒè¯

```bash
python test_your_school_importer.py
```

æ£€æŸ¥è¾“å‡ºï¼š
- âœ… éªŒè¯ç»“æœåº”è¯¥ä¸º `True`
- âœ… åº”è¯¥è§£æå‡ºæ­£ç¡®æ•°é‡çš„è¯¾ç¨‹
- âœ… æ¯é—¨è¯¾ç¨‹çš„ä¿¡æ¯åº”è¯¥å®Œæ•´ï¼ˆæ•™å¸ˆã€åœ°ç‚¹ã€æ—¶é—´ï¼‰

### 2. è¯¦ç»†æ£€æŸ¥

éªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

#### è¯¾ç¨‹åç§°
- âœ… è¯¾ç¨‹åç§°æ˜¯å¦æ­£ç¡®ï¼Ÿ
- âœ… æ˜¯å¦å»é™¤äº†ç­çº§æ‹¬å·ï¼ˆå¦‚ "(æœºæ¢°15)"ï¼‰ï¼Ÿ
- âœ… æ˜¯å¦è¿‡æ»¤äº†å¹²æ‰°é¡¹ï¼ˆå¦‚ "æ•™å­¦èµ„æ–™"ï¼‰ï¼Ÿ

#### æ—¶é—´ä¿¡æ¯
- âœ… æ˜ŸæœŸå‡ æ˜¯å¦æ­£ç¡®ï¼Ÿï¼ˆå‘¨ä¸€=1, å‘¨æ—¥=7ï¼‰
- âœ… èŠ‚æ¬¡æ˜¯å¦æ­£ç¡®ï¼Ÿ
- âœ… å‘¨æ¬¡èŒƒå›´æ˜¯å¦æ­£ç¡®ï¼Ÿ

#### æ•™å¸ˆå’Œåœ°ç‚¹
- âœ… æ•™å¸ˆå§“åæ˜¯å¦æ­£ç¡®ï¼Ÿ
- âœ… æ•™å®¤åœ°ç‚¹æ˜¯å¦æ­£ç¡®ï¼Ÿ

#### å‘¨ç±»å‹
- âœ… å•å‘¨è¯¾ç¨‹æ˜¯å¦æ ‡è®°ä¸º"å•å‘¨"ï¼Ÿ
- âœ… åŒå‘¨è¯¾ç¨‹æ˜¯å¦æ ‡è®°ä¸º"åŒå‘¨"ï¼Ÿ
- âœ… æ¯å‘¨è¯¾ç¨‹æ˜¯å¦æ ‡è®°ä¸º"æ¯å‘¨"ï¼Ÿ

### 3. è¾¹ç•Œæƒ…å†µæµ‹è¯•

æµ‹è¯•ä»¥ä¸‹ç‰¹æ®Šæƒ…å†µï¼š

- âœ… åŒä¸€å•å…ƒæ ¼å¤šé—¨è¯¾ç¨‹
- âœ… è·¨å¤šå‘¨çš„è¯¾ç¨‹ï¼ˆå¦‚ 1-8,10-16å‘¨ï¼‰
- âœ… å•å‘¨/åŒå‘¨è¯¾ç¨‹
- âœ… å‘¨æ—¥çš„è¯¾ç¨‹
- âœ… ç©ºå•å…ƒæ ¼

---

## é›†æˆåˆ°ä¸»ç¨‹åº

### æ­¥éª¤ 1: æ³¨å†Œå¯¼å…¥å™¨

ç¼–è¾‘ `src/ui/main_window.py`ï¼Œåœ¨å¯¼å…¥å™¨åˆ—è¡¨ä¸­æ·»åŠ ä½ çš„å¯¼å…¥å™¨ï¼š

```python
# æ‰¾åˆ°è¿™ä¸€æ®µä»£ç 
from importers.html_importer import HTMLImporter
from importers.text_importer import TextImporter
from importers.excel_importer import ExcelImporter
from importers.usc_importer import USCImporter
from importers.your_school_importer import YourSchoolImporter  # â† æ·»åŠ è¿™è¡Œ

# æ‰¾åˆ°å¯¼å…¥å™¨åˆ—è¡¨
self.importers = [
    HTMLImporter(),
    TextImporter(),
    ExcelImporter(),
    USCImporter(),
    YourSchoolImporter()  # â† æ·»åŠ è¿™è¡Œ
]
```

### æ­¥éª¤ 2: æµ‹è¯•é›†æˆ

1. è¿è¡Œä¸»ç¨‹åºï¼š
```bash
python main.py
```

2. ç‚¹å‡»"å¯¼å…¥è¯¾ç¨‹" â†’ "ä»æ–‡ä»¶å¯¼å…¥"

3. åœ¨å¯¼å…¥å™¨ä¸‹æ‹‰åˆ—è¡¨ä¸­åº”è¯¥èƒ½çœ‹åˆ°"ä½ çš„å­¦æ ¡æ•™åŠ¡ç³»ç»Ÿ"

4. é€‰æ‹©ä½ çš„ HTML æ–‡ä»¶è¿›è¡Œå¯¼å…¥

5. éªŒè¯å¯¼å…¥ç»“æœ

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: éªŒè¯å¤±è´¥ - "æœªæ‰¾åˆ°è¯¾è¡¨"

**åŸå› **: `table_id` é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ‰“å¼€ HTML æ–‡ä»¶ï¼Œæœç´¢ `<table`
2. æŸ¥çœ‹ `id` å±æ€§çš„å€¼
3. ä¿®æ”¹é…ç½®ä¸­çš„ `table_id` å‚æ•°

### é—®é¢˜ 2: è§£æåˆ° 0 é—¨è¯¾ç¨‹

**å¯èƒ½åŸå› **:
- `cell_class` é…ç½®é”™è¯¯
- `split_pattern` é…ç½®é”™è¯¯
- è¯¾ç¨‹å†…å®¹æ ¼å¼ä¸ç¬¦åˆé¢„æœŸ

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `<div class="...">` çš„ class å€¼
2. æ£€æŸ¥è¯¾ç¨‹å—ä¹‹é—´çš„åˆ†éš”ç¬¦
3. æ·»åŠ è°ƒè¯•è¾“å‡ºæŸ¥çœ‹åŸå§‹ HTML

### é—®é¢˜ 3: æ˜ŸæœŸå‡ é”™è¯¯

**åŸå› **: `sunday_first` æˆ– `first_col_is_header` é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥è¡¨å¤´ç¬¬ä¸€åˆ—æ˜¯"èŠ‚æ¬¡"è¿˜æ˜¯"å‘¨ä¸€/å‘¨æ—¥"
2. å¦‚æœæ˜¯"èŠ‚æ¬¡"ï¼Œè®¾ç½® `first_col_is_header=True`
3. å¦‚æœç¬¬ä¸€åˆ—æ˜¯"å‘¨æ—¥"ï¼Œè®¾ç½® `sunday_first=True`

### é—®é¢˜ 4: æ•™å¸ˆ/åœ°ç‚¹ä¿¡æ¯ç¼ºå¤±

**åŸå› **: å­—æ®µæ ‡é¢˜é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ HTML ä¸­ `<font title="...">` çš„ title å€¼
2. ä¿®æ”¹ `teacher_title`ã€`location_title` ç­‰å‚æ•°
3. å¦‚æœæ²¡æœ‰ `<font>` æ ‡ç­¾ï¼Œæ£€æŸ¥æ˜¯å¦ä½¿ç”¨ `|` åˆ†éš”çš„æ–‡æœ¬æ ¼å¼

### é—®é¢˜ 5: å‘¨æ¬¡è§£æé”™è¯¯

**åŸå› **: `week_pattern` é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æŸ¥çœ‹ HTML ä¸­å‘¨æ¬¡çš„æ ¼å¼ï¼ˆå¦‚ "1-8(å‘¨)" æˆ– "ç¬¬1-8å‘¨"ï¼‰
2. ä¿®æ”¹ `week_pattern` æ­£åˆ™è¡¨è¾¾å¼
3. ç¡®ä¿æ­£åˆ™è¡¨è¾¾å¼èƒ½æ•è·æ•°å­—éƒ¨åˆ†

---

## å®Œæ•´ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œå‡è®¾ä¸º"æ¹–å—å¤§å­¦"æ·»åŠ æ”¯æŒï¼š

```python
"""
æ¹–å—å¤§å­¦æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥å™¨
"""

try:
    from .qiangzhi_importer import QiangZhiImporter
except ImportError:
    from importers.qiangzhi_importer import QiangZhiImporter


class HNUImporter(QiangZhiImporter):
    """
    æ¹–å—å¤§å­¦æ•™åŠ¡ç³»ç»Ÿå¯¼å…¥å™¨
    """
    
    def __init__(self):
        super().__init__(
            school_name="æ¹–å—å¤§å­¦",
            sunday_first=False,
            first_col_is_header=True,
            split_pattern=r'-{10,}',
            table_id='kbtable',
            cell_class='kbcontent',
            week_pattern=r'([\d\-,]+)\(å‘¨\)',
            section_pattern=r'\[(\d+)-(\d+)èŠ‚\]',
            teacher_title='è€å¸ˆ',
            location_title='æ•™å®¤',
            week_section_title='å‘¨æ¬¡(èŠ‚æ¬¡)',
            odd_week_keyword='å•å‘¨',
            even_week_keyword='åŒå‘¨',
            exclude_courses=["æ•™å­¦èµ„æ–™", ""]
        )
    
    def get_importer_name(self) -> str:
        return "æ¹–å—å¤§å­¦æ•™åŠ¡ç³»ç»Ÿ"
```

---

## æ€»ç»“

æ·»åŠ æ–°å­¦æ ¡æ”¯æŒåªéœ€è¦ï¼š

1. âœ… è·å–è¯¾è¡¨ HTML æ ·æœ¬
2. âœ… åˆ†æ HTML ç»“æ„
3. âœ… åˆ›å»ºå¯¼å…¥å™¨ç±»ï¼ˆ20-30 è¡Œä»£ç ï¼‰
4. âœ… é…ç½®å‚æ•°ï¼ˆä¸»è¦æ˜¯ 3 ä¸ªæ ¸å¿ƒå‚æ•°ï¼‰
5. âœ… æµ‹è¯•éªŒè¯
6. âœ… é›†æˆåˆ°ä¸»ç¨‹åº

æ•´ä¸ªè¿‡ç¨‹é€šå¸¸åªéœ€è¦ **15-30 åˆ†é’Ÿ**ï¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒæ•…éšœæ’æŸ¥éƒ¨åˆ†ï¼Œæˆ–æŸ¥çœ‹ `USCImporter` çš„å®ç°ä½œä¸ºå‚è€ƒã€‚

---

**ç¥ä½ æˆåŠŸï¼** ğŸ‰